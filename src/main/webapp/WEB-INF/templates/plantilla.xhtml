<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta name="viewport" content="width=device-width, initial-scale=0.79"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>ProjectPRO</title>
        <link rel="shortcut icon" href="resources/img/LogoIcon.ico" />
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous"/>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" />
        <link href="resources/css/style_project.css" rel="stylesheet" type="text/css"/>
        <link href="resources/css/style_update_user_data.css" rel="stylesheet" type="text/css"/>
        <link href="resources/css/style_create_group.css" rel="stylesheet" type="text/css"/>
        <link href="resources/css/materialize.min.css" rel="stylesheet" type="text/css"/>
        <link href="resources/css/jquerywebui-popover.css" rel="stylesheet" type="text/css"/>
        <link href="resources/css/font.css" rel="stylesheet" type="text/css"/>
        <link href="../resources/css/social.css" rel="stylesheet" type="text/css"/>
        <f:event type="preRenderView" listener="#{plantillaController.verificarSesion()}" />
    </h:head>

    <h:body>

        <div id="top">
            <ui:insert name="top">
                <!-- barra de navegación -->
                <header class="header1">
                    <div class="nav1 navbar-fixed">
                        <nav> 
                            <div class="nav-wrapper">
                                <ul class="left">
                                    <a href="#!" class="brand-logo tooltipped" data-position="bottom" data-tooltip="ProjectPRO. Grandes ideas, grandes proyectos"><img src="resources/img/logoWBirrete5.png" alt=""/></a>
                                    <a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons">menu</i></a>
                                    <a href="#" class="menu waves-effect hide-on-med-and-down" id="menu-toggle"><i class="material-icons">menu</i></a>
                                </ul>                     
                                <div class="search hide-on-med-and-down">
                                    <form id="navbarsearch" class="" method="post">    
                                        <div class="input-field">
                                            <input id="search" type="search" name="search" placeholder="Buscar"/>
                                            <label class="label-icon" for="search"><i class="material-icons">search</i></label>
                                            <i class="material-icons">close</i>
                                        </div>
                                    </form>                    
                                </div>
                                <ul id="nav-mobile" class="right hide-on-med-and-down">
                                    <li class="waves-effect waves-light"><a href="#"><i class="material-icons left">home</i>Inicio</a></li>
                                    <li><a href="#" class="dropdown-trigger2" data-target="grupo"><i class="material-icons left">group</i>Grupo</a></li>
                                    <li><a href="#" class="dropdown-trigger2" data-target="publicacion"><i class="material-icons left">book</i>Publicación</a></li>
                                    <li><a href="#"><i class="material-icons left">help</i>Acerca</a></li>
                                    <li class="user"><a id="login" href="#"><img src="resources/img/user_photo.png" class="circle responsive-img" alt=""/></a></li>  
                                </ul>
                            </div>   
                        </nav>
                        <ul id="grupo" class="dropdown-content">
                            <li><a href="#crear_grupo_modal" class="modal-trigger"><i class="material-icons left">group_add</i>Crear Grupo</a></li>
                            <li><a href="#!"><i class="material-icons left">contacts</i>Ver Grupo</a></li>
                        </ul>
                        <ul id="publicacion" class="dropdown-content">
                            <li><a href="#!"><i class="material-icons left">description</i>Registrar Proyecto</a></li>
                        </ul>
                    </div>
                </header>
                <!-- fin barra de navegación -->
                
                <!-- modal crear grupo -->
                <div id="crear_grupo_modal" class="modal">
                    <div class="modal-content">
                        <h:form id="formulario2" class="col s12 m9 l8 offset-l2 offset-m2">
                            <p:growl autoUpdate="true" />
                            <div class="row">
                                <div class="col s12 m10 l5 offset-l2 pull-m2">
                                    <blockquote>
                                        <h4>CREAR GRUPO DE PROYECTO</h4>
                                        <h6>(*)Dato requerido</h6>
                                    </blockquote>
                                </div>     
                                <div class="input-field col s12 m2 l3 pull-m1">
                                    <div id="profile-container">
                                        <image id="profileImage" src="resources/img/user_photo.png" class="tooltipped responsive-img" data-tooltip="Click para agregar tu foto de perfil"/>
                                    </div>
                                    <input id="imageUpload" type="file" name="profile_photo" placeholder="Photo" accept="image/*" capture=""/>
                                </div>   
                            </div>
                            <div class="row forms">
                                <div class="input-field col s12 m11 l4 offset-l2">
                                    <i class="material-icons prefix">account_circle</i>
                                    <h:inputText id="name1" required="true" value="#{usuarioController.usuario.nom1}" requiredMessage="1er nombre es requerido" />
                                    <h:outputLabel for="name1" value="1er Nombre(*)"/>
                                </div>
                                <div class="input-field col s12 m11 l4">
                                    <i class="material-icons prefix">account_circle</i>
                                    <h:inputText id="name2" required="" value="#{usuarioController.usuario.nom2}" requiredMessage="" />
                                    <h:outputLabel for="name2" value="2do Nombre"/>
                                </div>
                                <div class="input-field col s12 m11 l4 offset-l2">
                                    <i class="material-icons prefix">account_circle</i>
                                    <h:inputText id="lastname1" required="true" value="#{usuarioController.usuario.apell1}" requiredMessage="1er apellido es requerido" />
                                    <h:outputLabel for="lastname1" value="1er Apellido(*)"/>
                                </div>
                                <div class="input-field col s12 m11 l4">
                                    <i class="material-icons prefix">account_circle</i>
                                    <h:inputText id="lastname2" required="" value="#{usuarioController.usuario.apell2}" requiredMessage="" />
                                    <h:outputLabel for="lastname2" value="2do Apellido"/>
                                </div>
                                <div class="input-field col s12 m11 l4 offset-l2">
                                    <i class="material-icons prefix">email</i>
                                    <h:inputText id="email" required="true" value="#{usuarioController.usuario.email}" requiredMessage="Correo Electronico es requerido" validatorMessage="Correo no valido">
                                        <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                    </h:inputText>
                                    <h:outputLabel for="email" value="Correo Electronico(*)"/>
                                </div>
                                <div class="input-field col s12 m11 l4">
                                    <i class="material-icons prefix">lock</i>
                                    <h:inputSecret id="password" required="true" value="#{usuarioController.usuario.pass}" requiredMessage="Contraseña es requerida"  />
                                    <!--<p:password id="password" required="true" value="password" requiredMessage="Contraseña es requerida" feedback="true" inline="false"
                                            promptLabel="Nivel de Seguridad" weakLabel="Débil" strongLabel="Fuerte" goodLabel="Buena" />-->
                                    <h:outputLabel for="password" value="Contraseña(*)"/>
                                    <span toggle="#password" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                                </div>
                                <div class="input-field col s12 m11 l4 offset-l2">
                                    <i class="material-icons prefix">phone</i>
                                    <h:inputText id="phone" required="true" value="#{usuarioController.usuario.cel}" requiredMessage="Número celular es requerido" />
                                    <h:outputLabel for="phone" value="Número Celular(*)"/>
                                </div>
                                <div class="input-field col s12 m11 l8 offset-l2">
                                    <h:commandLink value="Actualizar datos de usuario" styleClass="btn waves-effect waves-light" actionListener="#{usuarioController.modificar()}" />
                                </div>                   
                                <div class="input-field col s12 m11 l8 offset-l2">
                                    <h:outputLink value="projects.xhtml" styleClass="btn waves-effect waves-light">Regresar</h:outputLink>
                                </div>           
                            </div>     
                        </h:form>
                    </div>
                </div>
                <!-- fin modal crear_grupo -->
                
                <!-- login desplegable -->
                <div id="login-form" class="webui-popover-content">
                    <div class="row desplegable">
                        <!--<h:form class="col s12 m12 l12">
                            <p:dataTable var="usu" value="" rows="1">
                                <p:column headerText="Nombre" styleClass="vertAling">
                                    <h:outputText value="" />
                                </p:column>
                            </p:dataTable>
                        </h:form>-->
                        <h:form class="col s12 m12 l12">
                            <div class="input-field center">                        
                                <img src="resources/img/user_photo.png" class="circle responsive-img" alt=""/>                        
                            </div>
                            <div class="input-field center">
                                <span class="black-text name"><b>#{menuController.mostrarUsuarioLogeado()}</b></span>
                                <br></br>
                                <span class="black-text email">#{menuController.mostrarEmailUsuarioLogeado()}</span>
                            </div>
                            <div class="input-field">
                                <!--<h:commandLink value="ACTUALIZAR DATOS" styleClass="btn waves-effect waves-light" actionListener="#{usuarioController.modificar(usuario)}" action="/update_user_data?faces-redirect=true"  />-->
                                <a class="modal-trigger btn waves-effect waves-light" href="#update_modal" >ACTUALIZAR DATOS</a>
                            </div>
                            <div class="input-field">
                                <h:commandLink value="CERRAR SESIÓN" styleClass="btn waves-effect waves-light" actionListener="#{menuController.cerrarSesion()}" action="/index?faces-redirect=true"  />
                            </div>  
                        </h:form>
                    </div> 
                </div>
                <!-- fin login desplegable -->
                
                <!-- modal update_user_data -->
                <div id="update_modal" class="modal">
                    <div class="modal-content">
                        <h:form id="formulario" class="col s12 m9 l8 offset-l2 offset-m2">
                            <p:growl autoUpdate="true" />
                            <div class="row">
                                <div class="col s12 m10 l5 offset-l2 pull-m2">
                                    <blockquote>
                                        <h4>ACTUALIZAR DATOS DE USUARIO</h4>
                                        <h6>(*)Dato requerido</h6>
                                    </blockquote>
                                </div>     
                                <div class="input-field col s12 m2 l3 pull-m1">
                                    <div id="profile-container">
                                        <image id="profileImage" src="resources/img/user_photo.png" class="tooltipped responsive-img" data-tooltip="Click para agregar tu foto de perfil"/>
                                    </div>
                                    <input id="imageUpload" type="file" name="profile_photo" placeholder="Photo" accept="image/*" capture=""/>
                                </div>   
                            </div>
                            <div class="row forms">
                                <div class="input-field col s12 m11 l4 offset-l2">
                                    <i class="material-icons prefix">account_circle</i>
                                    <h:inputText id="name1" required="true" value="#{usuarioController.usuario.nom1}" requiredMessage="1er nombre es requerido" />
                                    <h:outputLabel for="name1" value="1er Nombre(*)"/>
                                </div>
                                <div class="input-field col s12 m11 l4">
                                    <i class="material-icons prefix">account_circle</i>
                                    <h:inputText id="name2" required="" value="#{usuarioController.usuario.nom2}" requiredMessage="" />
                                    <h:outputLabel for="name2" value="2do Nombre"/>
                                </div>
                                <div class="input-field col s12 m11 l4 offset-l2">
                                    <i class="material-icons prefix">account_circle</i>
                                    <h:inputText id="lastname1" required="true" value="#{usuarioController.usuario.apell1}" requiredMessage="1er apellido es requerido" />
                                    <h:outputLabel for="lastname1" value="1er Apellido(*)"/>
                                </div>
                                <div class="input-field col s12 m11 l4">
                                    <i class="material-icons prefix">account_circle</i>
                                    <h:inputText id="lastname2" required="" value="#{usuarioController.usuario.apell2}" requiredMessage="" />
                                    <h:outputLabel for="lastname2" value="2do Apellido"/>
                                </div>
                                <div class="input-field col s12 m11 l4 offset-l2">
                                    <i class="material-icons prefix">email</i>
                                    <h:inputText id="email" required="true" value="#{usuarioController.usuario.email}" requiredMessage="Correo Electronico es requerido" validatorMessage="Correo no valido">
                                        <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                    </h:inputText>
                                    <h:outputLabel for="email" value="Correo Electronico(*)"/>
                                </div>
                                <div class="input-field col s12 m11 l4">
                                    <i class="material-icons prefix">lock</i>
                                    <h:inputSecret id="password" required="true" value="#{usuarioController.usuario.pass}" requiredMessage="Contraseña es requerida"  />
                                    <!--<p:password id="password" required="true" value="password" requiredMessage="Contraseña es requerida" feedback="true" inline="false"
                                            promptLabel="Nivel de Seguridad" weakLabel="Débil" strongLabel="Fuerte" goodLabel="Buena" />-->
                                    <h:outputLabel for="password" value="Contraseña(*)"/>
                                    <span toggle="#password" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                                </div>
                                <div class="input-field col s12 m11 l4 offset-l2">
                                    <i class="material-icons prefix">phone</i>
                                    <h:inputText id="phone" required="true" value="#{usuarioController.usuario.cel}" requiredMessage="Número celular es requerido" />
                                    <h:outputLabel for="phone" value="Número Celular(*)"/>
                                </div>
                                <div class="input-field col s12 m11 l8 offset-l2">
                                    <h:commandLink value="Actualizar datos de usuario" styleClass="btn waves-effect waves-light" actionListener="#{usuarioController.modificar()}" />
                                </div>                   
                                <div class="input-field col s12 m11 l8 offset-l2">
                                    <h:outputLink value="projects.xhtml" styleClass="btn waves-effect waves-light">Regresar</h:outputLink>
                                </div>           
                            </div>     
                        </h:form>
                    </div>
                </div>
                <!-- fin modal update_user_data -->
                
            </ui:insert>
        </div>
        
        <div id="content" class="center_content">
            <ui:insert name="content">
                
            </ui:insert>
        </div>

        <div id="bottom">
            <ui:insert name="bottom">
                <!-- footer -->
                <footer class="page-footer blue-grey darken-3">
                    <div class="container">
                        <div class="row">
                            <div class="col l6 s12">
                                <h5 class="white-text">ProjectPRO</h5>
                                <p class="grey-text text-lighten-4">Grandes ideas, grandes proyectos.</p>
                            </div>
                            <div class="col l4 offset-l2 s12">
                                © ProjectPRO - Grupo PA Sem VI Sec9 2019-1 <br></br>
                            </div>
                        </div>
                    </div>
                    
                    <div class="footer-copyright blue-grey darken-4 valign-wrapper">
                        <div class="container">
                            Crea tu proyecto de negocio a partir de tus ideas y marca la diferencia
                            <br></br>
                            © 2014 Copyright Text
                        </div>
                    </div>
                </footer>
                <!-- fin footer -->
            </ui:insert>
        </div>
        
        <script src="resources/js/jquery-3.3.1.min.js" type="text/javascript"></script>
        <script src="resources/js/materialize.min.js" type="text/javascript"></script>
        <script src="resources/js/jquerywebui-popover.js" type="text/javascript"></script>
        <script src="resources/js/scripts.js" type="text/javascript"></script>
        <script src="resources/js/cargar_imagen_perfil.js" type="text/javascript"></script>
        
    </h:body>

</html>
