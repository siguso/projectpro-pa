<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <body>

        <ui:composition template="./WEB-INF/templates/plantilla.xhtml">

            <ui:define name="content">
                <div class="container">
                    <h:form id="formulario_admin" class="col s12 m9 l8 offset-l2">
                        <p:growl />
                        <div class="row forms">
                            <div class="col s12 m10 l8">
                                <blockquote>
                                    <h4>LISTA DE USUARIOS</h4>
                                </blockquote>  
                                <div class="col l3">
                                    <a class="modal-trigger btn" id="new" href="#new_modal" >
                                        Nuevo Usuario<i class="material-icons right">person_add</i>
                                    </a>
                                </div>
                            </div> 

                            <div class="container col s12 m10 l12">
                                <table id="users" class="hover AllDataTables responsive-table row-border compact">
                                    <thead>
                                        <tr>
                                            <th>Codigo</th>
                                            <th>1er Nombre</th>
                                            <th>2do Nombre</th>
                                            <th>1er Apellido</th>
                                            <th>2do Apellido</th>
                                            <th>Email</th>
                                            <th>Contraseña</th>
                                            <th>Celular</th>
                                            <th><center>Operaciones</center></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <c:forEach items="#{usuarioController.usuarios}" var="usu">
                                            <tr>
                                                <td>#{usu.cod_usuario}</td>
                                                <td>#{usu.nom1}</td>
                                                <td>#{usu.nom2}</td>
                                                <td>#{usu.apell1}</td>
                                                <td>#{usu.apell2}</td>
                                                <td>#{usu.email}</td>
                                                <td>#{usu.pass}</td>
                                                <td>#{usu.cel}</td>
                                                <td class="center">
                                                    <a class="modal-trigger tooltipped btnEdit" data-tooltip="Actualizar Usuario" href="#admin_modal" >
                                                        <i class="material-icons center">edit</i>
                                                    </a>
                                                    <a class="modal-trigger tooltipped btnDelete" data-tooltip="Eliminar Usuario" href="#admin_modal" >
                                                        <i class="material-icons center">delete</i>
                                                    </a>
                                                </td>
                                            </tr>
                                        </c:forEach> 
                                    </tbody>
                                </table>
                            </div>

                            <div class="input-field col s12 m11 l8 offset-l2">
                                <h:outputLink value="projects.xhtml" styleClass="btn waves-effect waves-light">Regresar</h:outputLink>
                            </div>           
                        </div>     
                    </h:form>
                </div>

                <!-- new modal -->
                <!--<div id="new_modal" class="modal">
                    <div class="container modal-content">
                        <h:form>
                            <p:growl />
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">account_circle</i>
                                <input placeholder="" type="text" id="name1" required="true" value="#{adminController.usuario.nom1}" requiredMessage="1er nombre es requerido" />
                                <h:outputLabel for="name1" value="1er Nombre(*)"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">account_circle</i>
                                <input placeholder="" type="text" id="name2" value="#{adminController.usuario.nom2}" />
                                <h:outputLabel for="name2" value="2do Nombre"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">account_circle</i>
                                <input placeholder="" type="text" id="apell1" required="true" value="#{adminController.usuario.apell1}" requiredMessage="1er apellido es requerido" />
                                <h:outputLabel for="apell1" value="1er Apellido(*)"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">account_circle</i>
                                <input placeholder="" type="text" id="apell2" value="#{adminController.usuario.apell2}" />
                                <h:outputLabel for="apell1" value="2do Apellido"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">email</i>
                                <input placeholder="" type="text" id="email" required="true" value="#{adminController.usuario.email}" requiredMessage="Correo electronico es requerido" />
                                <h:outputLabel for="email" value="Correo Electronico(*)"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">lock</i>
                                <input placeholder="" type="text" id="pass" required="true" value="#{adminController.usuario.pass}" requiredMessage="Contraseña es requerida" />
                                <h:outputLabel for="pass" value="Contraseña(*)"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">phone</i>
                                <input placeholder="" type="text" id="phone" required="true" value="#{adminController.usuario.pass}" requiredMessage="Número Celular es requerido" />
                                <h:outputLabel for="phone" value="Número Celular(*)"/>
                            </div>
                            <br></br>
                            <button class="btn modal-close">enviar</button>
                            <div class="input-field col s12 m11 l8 offset-l2">
                                <h:commandLink value="Actualizar datos de usuario" styleClass="btn waves-effect waves-light" />
                            </div>      
                        </h:form>
                    </div>
                </div>-->
                <!-- fin new modal -->

                <!-- modal admin -->
                <div id="admin_modal" class="modal">
                    <div class="container modal-content">
                        <h:form>
                            <p:growl />
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">account_circle</i>
                                <input placeholder="" type="text" id="name1" required="" value="#{usuarioController.usuario.nom1}" requiredMessage="1er nombre es requerido" />
                                <h:outputLabel for="name1" value="1er Nombre(*)"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">account_circle</i>
                                <input placeholder="" type="text" id="name2" value="#{usuarioController.usuario.nom2}" />
                                <h:outputLabel for="name2" value="2do Nombre"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">account_circle</i>
                                <input placeholder="" type="text" id="apell1" required="" value="#{usuarioController.usuario.apell1}" requiredMessage="1er apellido es requerido" />
                                <h:outputLabel for="apell1" value="1er Apellido(*)"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">account_circle</i>
                                <input placeholder="" type="text" id="apell2" value="#{usuarioController.usuario.apell2}" />
                                <h:outputLabel for="apell1" value="2do Apellido"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">email</i>
                                <input placeholder="" type="text" id="email" required="" value="#{usuarioController.usuario.email}" requiredMessage="Correo electronico es requerido" />
                                <h:outputLabel for="email" value="Correo Electronico(*)"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">lock</i>
                                <input placeholder="" type="text" id="pass" required="" value="#{usuarioController.usuario.pass}" requiredMessage="Contraseña es requerida" />
                                <h:outputLabel for="pass" value="Contraseña(*)"/>
                            </div>
                            <div class="input-field col s12 m11 l4">
                                <i class="material-icons prefix">phone</i>
                                <input placeholder="" type="text" id="phone" required="" value="#{usuarioController.usuario.pass}" requiredMessage="Número Celular es requerido" />
                                <h:outputLabel for="phone" value="Número Celular(*)"/>
                            </div>
                            <br></br>
                            <button class="btn modal-close">enviar</button>
                            <div class="input-field col s12 m11 l8 offset-l2">
                                <h:commandLink value="Actualizar datos de usuario" actionListener="#{usuarioController.modificar()}" styleClass="btn waves-effect waves-light"  />
                            </div>      
                        </h:form>
                    </div>
                </div>

                <!-- fin modal admin -->

            </ui:define>

        </ui:composition>

    </body>
</html>
